(this.webpackJsonppart1=this.webpackJsonppart1||[]).push([[0],{39:function(e,n,t){"use strict";t.r(n);var c=t(15),r=t.n(c),u=t(6),a=t(3),i=t(2),o=t(0),s=function(e){var n=e.name,t=e.id,c=e.handleDelete;return Object(o.jsx)("button",{onClick:function(){return window.confirm("Are you sure you want to delete ".concat(n,"'s number"))?c(t):"x"},children:"Delete the number"})};var d=function(e){var n=e.name,t=e.number,c=e.id,r=e.handleDelete;return Object(o.jsxs)("li",{children:[n,": ",t,"\xa0",Object(o.jsx)(s,{name:n,id:c,handleDelete:r})]})};var l=function(e){var n=e.persons,t=e.search,c=e.handleDelete,r=t?n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})):n;return Object(o.jsx)("div",{children:r.map((function(e){return Object(o.jsx)(d,{name:e.name,number:e.number,id:e.id,handleDelete:c},e.id)}))})},b=t(4),j=t.n(b),h="/api/persons",f=function(){return j.a.get(h).then((function(e){return e.data}))},m=function(e){return j.a.post(h,e).then((function(e){return e.data}))},O=function(e){return j.a.delete("".concat(h,"/").concat(e)).then((function(e){return e}))},x=function(e,n){return j.a.put("".concat(h,"/").concat(e),n).then((function(e){return e.data}))},p=function(e){var n=e.message;if(null===n[0])return null;var t={};return"pos"===n[0]?t={backgroundColor:"LightGray",width:"20vw",height:"5vh",border:"5px solid green",borderRadius:"20px",margin:"10px",textAlign:"center",alignItems:"center"}:"neg"===n[0]&&(t={backgroundColor:"LightGray",width:"20vw",height:"5vh",border:"5px solid red",borderRadius:"20px",margin:"10px",textAlign:"center",alignItems:"center"}),Object(o.jsx)("div",{style:t,children:n[1]})},g=function(){var e=Object(i.useState)([]),n=Object(a.a)(e,2),t=n[0],c=n[1],r=Object(i.useState)(""),s=Object(a.a)(r,2),d=s[0],b=s[1],j=Object(i.useState)(""),h=Object(a.a)(j,2),g=h[0],v=h[1],w=Object(i.useState)(""),y=Object(a.a)(w,2),D=y[0],C=y[1],S=Object(i.useState)([null,""]),k=Object(a.a)(S,2),A=k[0],L=k[1],I=function(){f().then((function(e){c(e)}))};Object(i.useEffect)(I,[]);return Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Phonebook"}),Object(o.jsx)(p,{message:A}),Object(o.jsxs)("div",{children:["Search bar:",Object(o.jsx)("input",{type:"text",onChange:function(e){C(e.target.value)}})]}),Object(o.jsx)("h2",{children:"Add new person"}),Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=t.find((function(e){return e.name===d}));if(n){var r=Object(u.a)(Object(u.a)({},n),{},{number:g});window.confirm("Do you want to update ".concat(n.name,"'s number?"))&&x(n.id,r).then((function(e){b(""),v(""),I(),L(["pos","".concat(e.name,"'s number changed succesfully!")]),setTimeout((function(){L([null,""])}),3e3)}))}else{var a={name:d,number:g,id:t.length+1};m(a).then((function(e){c(t.concat([a])),b(""),v(""),L(["pos","".concat(e.name,"'s number added succesfully!")]),setTimeout((function(){L([null,""])}),3e3)}))}},children:[Object(o.jsxs)("div",{children:["name: ",Object(o.jsx)("input",{onChange:function(e){b(e.target.value)}})]}),Object(o.jsxs)("div",{children:["number: ",Object(o.jsx)("input",{onChange:function(e){v(e.target.value)}})]}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{type:"submit",children:"add"})})]}),Object(o.jsx)("h2",{children:"Numbers"}),Object(o.jsx)("ul",{children:Object(o.jsx)(l,{persons:t,search:D,handleDelete:function(e){O(e).then((function(e){console.log("res :>> ",e),I()})).catch((function(e){L(["neg","Failed at deleting number."]),setTimeout((function(){L([null,""])}),3e3)}))}})})]})};r.a.render(Object(o.jsx)(g,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.3c8952ec.chunk.js.map