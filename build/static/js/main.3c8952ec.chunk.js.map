{"version":3,"sources":["components/DeleteButton.js","components/ListItem.js","components/SearchField.js","components/numberService.js","components/Notification.js","App.js","index.js"],"names":["DeleteButton","name","id","handleDelete","onClick","window","confirm","ListItem","number","SearchField","persons","search","listingsToShow","filter","person","toLowerCase","includes","map","BASE_URL","axios","get","then","res","data","newNumber","post","delete","updatedNumber","put","Notification","message","notificationStyle","backgroundColor","width","height","border","borderRadius","margin","textAlign","alignItems","style","App","useState","setPersons","newName","setNewName","setNewNumber","searchField","setSearchField","eventMessage","setEventMessage","fetchNumbers","numberService","numbersList","useEffect","type","onChange","event","target","value","onSubmit","preventDefault","x","find","newPerson","setTimeout","length","n","concat","console","log","catch","err","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3c8952ec.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst DeleteButton = ({ name, id, handleDelete }) => {\r\n\r\n\tconst confirmDelete = () => window.confirm(`Are you sure you want to delete ${name}'s number`) ? handleDelete(id) : 'x'\r\n\r\n  return (\r\n\t<button onClick={() => confirmDelete()}>\r\n\t\tDelete the number\r\n\t</button>\r\n\t)\r\n};\r\n\r\nexport default DeleteButton;\r\n","import React from \"react\";\r\nimport DeleteButton from \"./DeleteButton\";\r\n\r\nfunction ListItem({ name, number, id, handleDelete }) {\r\n  return (\r\n    <li>\r\n      {name}: {number}&nbsp;\r\n      <DeleteButton\r\n        name={name}\r\n        id={id}\r\n        handleDelete={handleDelete}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ListItem;\r\n","import React from \"react\";\r\nimport ListItem from \"./ListItem\";\r\n\r\nfunction SearchField({ persons, search, handleDelete }) {\r\n  const listingsToShow = search\r\n    ? persons.filter((person) =>\r\n        person.name.toLowerCase().includes(search.toLowerCase())\r\n      )\r\n    : persons;\r\n\r\n  return (\r\n    <div>\r\n      {listingsToShow.map((person) => (\r\n        <ListItem\r\n          key={person.id}\r\n          name={person.name}\r\n          number={person.number}\r\n          id={person.id}\r\n          handleDelete={handleDelete}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchField;\r\n","import axios from \"axios\";\r\n\r\nconst BASE_URL = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(BASE_URL);\r\n  return request.then((res) => res.data);\r\n};\r\n\r\nconst createNewNumber = (newNumber) => {\r\n  const request = axios.post(BASE_URL, newNumber);\r\n  return request.then((res) => res.data);\r\n};\r\n\r\nconst removeNumber = (id) => {\r\n  const request = axios.delete(`${BASE_URL}/${id}`);\r\n  return request.then((res) => res);\r\n};\r\n\r\nconst update = (id, updatedNumber) => {\r\n  const request = axios.put(`${BASE_URL}/${id}`, updatedNumber);\r\n  return request.then((res) => res.data);\r\n};\r\n\r\nexport default { getAll, createNewNumber, removeNumber, update };\r\n","import React from \"react\";\r\n\r\nconst Notification = ({message}) => {\r\n\tif (message[0] === null) {\r\n\t\treturn null\r\n\t}\r\n\r\n\t//Positive feedback styles\r\n\tconst positiveNotificationStyle = {\r\n\t\tbackgroundColor: \"LightGray\",\r\n\t\twidth: \"20vw\",\r\n\t\theight: \"5vh\",\r\n\t\tborder: \"5px solid green\",\r\n\t\tborderRadius: \"20px\",\r\n\t\tmargin: \"10px\",\r\n\t\ttextAlign: \"center\",\r\n\t\talignItems: \"center\"\r\n\t}\r\n\r\n\t//Negative feedback styles, i'm too lazy to use spread operator and only change what changes xd\r\n\tconst negativeNotificationStyle = {\r\n\t\tbackgroundColor: \"LightGray\",\r\n\t\twidth: \"20vw\",\r\n\t\theight: \"5vh\",\r\n\t\tborder: \"5px solid red\",\r\n\t\tborderRadius: \"20px\",\r\n\t\tmargin: \"10px\",\r\n\t\ttextAlign: \"center\",\r\n\t\talignItems: \"center\"\r\n\t}\r\n\r\n\t//Defining palceholder for styles\r\n\tlet notificationStyle = {}\r\n\r\n\t//Picking styles, based on feedback \r\n\tif (message[0] === \"pos\") {\r\n\t\tnotificationStyle = positiveNotificationStyle\r\n\t} else if (message[0] === \"neg\") {\r\n\t\tnotificationStyle = negativeNotificationStyle\r\n\t}\r\n\r\n  return (\r\n\t\t<div style={notificationStyle}>\r\n\t\t\t{message[1]}\r\n\t\t</div>\r\n\t)\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport SearchField from \"./components/SearchField\";\r\nimport numberService from \"./components/numberService\";\r\nimport Notification from \"./components/Notification\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [searchField, setSearchField] = useState(\"\");\r\n  const [eventMessage, setEventMessage] = useState([null, ''])\r\n\r\n  //Fetch numbers list\r\n  const fetchNumbers = () => {\r\n    numberService.getAll().then((numbersList) => {\r\n      setPersons(numbersList);\r\n    });\r\n  };\r\n  useEffect(fetchNumbers, []);\r\n\r\n  // Add new name to the book\r\n  const addNewName = (event) => {\r\n    event.preventDefault();\r\n    // Check if its already in our list\r\n    const x = persons.find((x) => x.name === newName)\r\n    if (x) {\r\n      //If it is, ask if want to update the number\r\n      const newPerson = {...x, number: newNumber}\r\n      if (window.confirm(`Do you want to update ${x.name}'s number?`)) {\r\n        numberService\r\n          .update(x.id, newPerson)\r\n          .then(x => {\r\n            setNewName(\"\");\r\n            setNewNumber(\"\");\r\n            fetchNumbers();\r\n            setEventMessage([\"pos\", `${x.name}'s number changed succesfully!`])\r\n            setTimeout(() => {\r\n            setEventMessage([null, ''])\r\n          }, 3000)\r\n          })\r\n      }\r\n    } else {\r\n      //If its not, create a new person \r\n      const newPerson = {\r\n          name: newName,\r\n          number: newNumber,\r\n          id: persons.length +1,\r\n        }\r\n      numberService\r\n        .createNewNumber(newPerson)\r\n        .then((n) => {\r\n          setPersons(persons.concat([newPerson]));\r\n          setNewName(\"\");\r\n          setNewNumber(\"\");\r\n          setEventMessage([\"pos\", `${n.name}'s number added succesfully!`])\r\n          setTimeout(() => {\r\n            setEventMessage([null, ''])\r\n          }, 3000)\r\n      });\r\n    }\r\n  };\r\n\r\n  //Store new Number\r\n  const collectNewNumber = (event) => {\r\n    setNewNumber(event.target.value);\r\n  };\r\n\r\n  //Store new Name\r\n  const collectNewPerson = (event) => {\r\n    setNewName(event.target.value);\r\n  };\r\n\r\n  //Store search field content\r\n  const storeSearchField = (event) => {\r\n    setSearchField(event.target.value);\r\n  };\r\n\r\n  //Delete button functionality\r\n  const handleDeletingNumber = (id) => {\r\n    numberService.removeNumber(id)\r\n    .then((res) => {\r\n      console.log(\"res :>> \", res);\r\n      fetchNumbers(); // Fetch numbers, no manual updating localy!\r\n    })\r\n    .catch(err => {\r\n      setEventMessage([\"neg\", `Failed at deleting number.`])\r\n      setTimeout(() => {\r\n        setEventMessage([null, ''])\r\n      }, 3000)\r\n    })\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={eventMessage}/>\r\n      <div>\r\n        Search bar:\r\n        <input type=\"text\" onChange={storeSearchField} />\r\n      </div>\r\n      <h2>Add new person</h2>\r\n      <form onSubmit={addNewName}>\r\n        <div>\r\n          name: <input onChange={collectNewPerson} />\r\n        </div>\r\n        <div>\r\n          number: <input onChange={collectNewNumber} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n      <h2>Numbers</h2>\r\n      <ul>\r\n        <SearchField\r\n          persons={persons}\r\n          search={searchField}\r\n          handleDelete={handleDeletingNumber}\r\n        />\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}